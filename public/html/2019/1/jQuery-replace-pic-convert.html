<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <title>jQuery之replace字符串替换实现大小图片切换</title>
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/quick-layout.css">
    <script src="/lib/jquery/jquery-1.12.4.min.js"></script>
    <style type="text/css">
        #choose {
            padding: 0.5em 1.5em;
            border-bottom: 1px solid #dddddd;
        }

        .btn {
            display: inline-block;
            padding: 4px 9px;
            color: #666666;
            text-decoration: none;
        }

        .btn:hover, .on {
            border: 1px solid #73818C;
            color: #3E6173;
            -moz-border-radius: 2px;
            -webkit-border-radius: 2px;
        }

        .on, .on:hover {
            background: #f4f4f4;
            color: #333333;
            cursor: default;
        }

        .v_line {
            font-size: 1.3em;
            vertical-align: top;
            margin: 0 5px;
        }

        .zxx_image_list {
            display: inline-block;
            width: 1.2em;
            margin-top: 20px;
            text-align: center;
            font-size: 128px;
            vertical-align: middle;
        }

        .zxx_image_list img.zxx_image {
            padding: 3px;
            border: 1px solid #828da1;
            background: white;
            vertical-align: middle;
            position: relative;
        }

        .zxx_image_list:hover, .zxx_image_list:hover .zxx_image {
            border-color: #ff3300;
        }
    </style>
</head>

<body>
<div class="zxx_out_box">
    <div class="zxx_in_box">
        <div id="choose">
            <a href="javascript:void(null);" class="btn on" id="small_pic">小图</a>
            <span class="v_line">|</span>
            <a href="javascript:void(null);" class="btn" id="big_pic">大图</a>
        </div>
        <div class="zxx_main_con">
            <a href="#zhangxinxu" class="zxx_image_list">
                <img class="zxx_image" src="/images/small/mm1.jpg"/>
            </a>
            <a href="#zhangxinxu" class="zxx_image_list">
                <img class="zxx_image" src="/images/small/mm2.jpg"/>
            </a>
            <a href="#zhangxinxu" class="zxx_image_list">
                <img class="zxx_image" src="/images/small/mm3.jpg"/>
            </a>
            <a href="#zhangxinxu" class="zxx_image_list">
                <img class="zxx_image" src="/images/small/mm4.jpg"/>
            </a>
            <a href="#zhangxinxu" class="zxx_image_list">
                <img class="zxx_image" src="/images/small/mm5.jpg"/>
            </a>
            <a href="#zhangxinxu" class="zxx_image_list">
                <img class="zxx_image" src="/images/small/mm6.jpg"/>
            </a>
        </div>
    </div>
</div>
<script type="text/javascript">

    $(document).ready(function () {
        //给图片高宽转换为以em单位
        setTimeout(function () {
            $(".zxx_image").each(function () {
                var emW = $(this).width() / 128 + "em";
                var emH = $(this).height() / 128 + "em";
                $(this).css("width", emW);
                $(this).css("height", emH)
            });
        }, 500)

        function srcChg(a, b) {
            $(".zxx_image").each(function () {
                var new_src = $(this).attr("src").replace(a, b); //字符串替换，更改图片路径
                //alert(new_src);
                $(this).attr("src", new_src);
            });
        }

        $("#small_pic").click(function () {
            if ($(this).hasClass("on")) return;
            else {
                $("#big_pic").removeClass("on");
                $(this).addClass("on");
                $(".zxx_image_list").css("font-size", "128px");
                srcChg("big", "small");
                return false; //使单击后IE6下图片正常加载
            }
        });
        $("#big_pic").click(function () {
            if ($(this).hasClass("on")) return;
            else {
                $("#small_pic").removeClass("on");
                $(this).addClass("on");
                $(".zxx_image_list").css("font-size", "256px");
                srcChg("small", "big");
                return false;
            }
        });
    });
</script>
</body>
</html>
